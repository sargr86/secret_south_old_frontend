<div class="tableContainer" *ngIf="dataSource && dataSource.length!==0">
  <mat-form-field *ngIf="!common.dataLoading && dataSource">
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
  </mat-form-field>

  <div class="mat-elevation-z8">

    <div class="table_responsive">
      <table mat-table [dataSource]="dataSource" matSort>

        <ng-container *ngFor="let col of displayedColumns;let colIndex = index">

          <!-- Regular columns-->
          <ng-container [matColumnDef]="col" *ngIf="col!='actions'">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{normalizeColName(col)}}</th>
            <td mat-cell *matCellDef="let row">
              <ng-container *ngIf="colIndex < 3">
                <span *ngIf="col==='client_full_name'">
                  {{row['client']['first_name'] + ' ' + row['client']['first_name']}}
                </span>
                <span *ngIf="col==='email'">{{row['client']['email']}}</span>
                <span *ngIf="col==='phone'">{{row['client']['phone']}}</span>
              </ng-container>

              <span *ngIf="col==='start_point'">{{row['startPoint']['name']}}</span>
              <span *ngIf="col==='end_point'">{{row['endPoint']['name']}}</span>

              <span *ngIf="col==='status'|| col==='time'||col==='_id'">{{row[col]}}</span>

            </td>
          </ng-container>

          <!-- Action column -->
          <ng-container matColumnDef="actions" class="actions" *ngIf="col=='actions'">
            <th mat-header-cell *matHeaderCellDef> Actions</th>
            <td mat-cell *matCellDef="let row">
              <div class="flex_container">

                <button class="assignBtn" [matTooltip]="'Assign to a driver'" (click)="assignToDriver(row)"
                        *ngIf="status==='pending' || status==='assigned'">
                  <i class="fa fa-user"></i>
                </button>

                <!--                          <button class="editBtn" [matTooltip]="'Edit'"-->
                <!--                                  (click)="router.navigate([auth.checkRoles('admin')?'admin/'+item+'/'+row.id:'partners/'+item+'/'+row.id],{state:{id:row.id}})">-->
                <!--                            <mat-icon>edit</mat-icon>-->
                <!--                          </button>-->
                <button class="removeBtn" [matTooltip]="'Remove'" (click)="remove(row)">
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;">
        </tr>
      </table>
    </div>


    <div class="no_table_items_found">
      <small *ngIf="(filteredData && filteredData.length ===0) && !common.dataLoading">No items found</small>
    </div>
    <!--    <mat-spinner *ngIf="common.dataLoading" [diameter]="spinnerDiameter"></mat-spinner>-->
    <!--    <mat-paginator [pageSizeOptions]="paginationValues"-->
    <!--                   [hidden]="common.dataLoading || !dataSource"></mat-paginator>-->
  </div>


</div>
<small class="no_data" *ngIf="!dataSource || dataSource.length === 0">
  There are no orders here
</small>
