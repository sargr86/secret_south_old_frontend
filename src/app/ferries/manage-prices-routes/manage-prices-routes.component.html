<mat-tab-group mat-align-tabs="center" [selectedIndex]="0">
  <mat-tab label="Routes">
<!--    <ng-template mat-tab-label>-->
<!--      <span matBadge="{{tab.count}}" matBadgeOverlap="false">{{tab.name}}</span>-->
<!--    </ng-template>-->
    <app-add-routes (updated)="getAllRoutesPrices()"></app-add-routes>
  </mat-tab>
  <mat-tab label="Prices">
    <app-add-prices (updated)="getAllRoutesPrices()"></app-add-prices>
  </mat-tab>
  <mat-tab label="Summary">
    <div class="mat-elevation-z8 table-container" *ngIf="dataSource && dataSource.data.length!==0">

      <div class="table_responsive">
        <table mat-table [dataSource]="dataSource" matSort>

          <ng-container *ngFor="let col of displayedColumns;let colIndex = index">

            <ng-container [matColumnDef]="col" *ngIf="col=='has_coordinates_on_map'">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> {{normalizeColName(col)}}</th>
              <td mat-cell *matCellDef="let row">
                <strong
                  [ngClass]="row['coordinates'].length > 0 ? 'green':'red'">{{row['coordinates'].length > 0 ? 'yes' : 'no'}}</strong>
              </td>
            </ng-container>


            <!-- Regular columns-->
            <ng-container [matColumnDef]="col" *ngIf="col!='actions' && col!='has_coordinates_on_map'">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> {{normalizeColName(col)}}</th>
              <td mat-cell *matCellDef="let row">

                <span>{{row[col] ? row[col] : '-'}}</span>

              </td>
            </ng-container>

            <!-- Action column -->
            <ng-container matColumnDef="actions" class="actions" *ngIf="col=='actions'">
              <th mat-header-cell *matHeaderCellDef> Actions</th>
              <td mat-cell *matCellDef="let row">
                <button class="editBtn" [matTooltip]="'Edit'" (click)="editPrices(row)">
                  <mat-icon>edit</mat-icon>
                </button>
                <button class="removeBtn" [matTooltip]="'Remove'" (click)="removeRoutePrice(row)">
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </ng-container>

          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;">
          </tr>
        </table>
        <div class="remove-all-container">
          <button mat-raised-button color="accent" (click)="removeAllRoutesPrices()">Remove all</button>
        </div>
        <mat-paginator [pageSizeOptions]="paginationValues"
                       [hidden]="common.dataLoading || !dataSource"></mat-paginator>
      </div>

      <div class="min-people-count-hint">
        <mat-hint>*Minimum people count for all kinds of routes: 6</mat-hint>
      </div>
    </div>
    <div class="no-routes-price" *ngIf="dataSource && dataSource.data.length==0">
      <strong>No routes and prices found.</strong>
    </div>
  </mat-tab>
</mat-tab-group>
